var hourlyData = [
{day:'Mon',time:0,noise:0.154324659457},
{day:'Mon',time:1,noise:0.511680030161},
{day:'Mon',time:2,noise:0.647212559067},
{day:'Mon',time:3,noise:0.187712449524},
{day:'Mon',time:4,noise:0.898802137724},
{day:'Mon',time:5,noise:0.966821451346},
{day:'Mon',time:6,noise:0.791123169375},
{day:'Mon',time:7,noise:0.224220079598},
{day:'Mon',time:8,noise:0.210453727686},
{day:'Mon',time:9,noise:0.956314464731},
{day:'Mon',time:10,noise:0.84894428083},
{day:'Mon',time:11,noise:0.53426775019},
{day:'Mon',time:12,noise:0.765535059456},
{day:'Mon',time:13,noise:0.467666753973},
{day:'Mon',time:14,noise:0.832306041629},
{day:'Mon',time:15,noise:0.958428277431},
{day:'Mon',time:16,noise:0.678706440458},
{day:'Mon',time:17,noise:0.096124105775},
{day:'Mon',time:18,noise:0.0182012836563},
{day:'Mon',time:19,noise:0.337778605641},
{day:'Mon',time:20,noise:0.0902896880434},
{day:'Mon',time:21,noise:0.103040369718},
{day:'Mon',time:22,noise:0.213612762341},
{day:'Mon',time:23,noise:0.681500703252},
{day:'Tue',time:0,noise:0.924819909818},
{day:'Tue',time:1,noise:0.551793481571},
{day:'Tue',time:2,noise:0.33142120919},
{day:'Tue',time:3,noise:0.842767433003},
{day:'Tue',time:4,noise:0.43094196866},
{day:'Tue',time:5,noise:0.492059491653},
{day:'Tue',time:6,noise:0.736944140117},
{day:'Tue',time:7,noise:0.842480720206},
{day:'Tue',time:8,noise:0.113122676657},
{day:'Tue',time:9,noise:0.897997564148},
{day:'Tue',time:10,noise:0.492468646058},
{day:'Tue',time:11,noise:0.636550613247},
{day:'Tue',time:12,noise:0.0262031012979},
{day:'Tue',time:13,noise:0.592738767764},
{day:'Tue',time:14,noise:0.906616613624},
{day:'Tue',time:15,noise:0.64317440632},
{day:'Tue',time:16,noise:0.611393333919},
{day:'Tue',time:17,noise:0.0423329155636},
{day:'Tue',time:18,noise:0.623956831027},
{day:'Tue',time:19,noise:0.111786609142},
{day:'Tue',time:20,noise:0.0844732901402},
{day:'Tue',time:21,noise:0.277397042797},
{day:'Tue',time:22,noise:0.353449754468},
{day:'Tue',time:23,noise:0.317719723534},
{day:'Wed',time:0,noise:0.0472250847411},
{day:'Wed',time:1,noise:0.262918145239},
{day:'Wed',time:2,noise:0.502672656607},
{day:'Wed',time:3,noise:0.090318701197},
{day:'Wed',time:4,noise:0.451572208183},
{day:'Wed',time:5,noise:0.221674934509},
{day:'Wed',time:6,noise:0.445141482138},
{day:'Wed',time:7,noise:0.982072818931},
{day:'Wed',time:8,noise:0.33755641064},
{day:'Wed',time:9,noise:0.941679903326},
{day:'Wed',time:10,noise:0.403657854475},
{day:'Wed',time:11,noise:0.719188712964},
{day:'Wed',time:12,noise:0.0764537114006},
{day:'Wed',time:13,noise:0.224939145349},
{day:'Wed',time:14,noise:0.722966345602},
{day:'Wed',time:15,noise:0.383440567234},
{day:'Wed',time:16,noise:0.265092017452},
{day:'Wed',time:17,noise:0.0547177827881},
{day:'Wed',time:18,noise:0.666775410528},
{day:'Wed',time:19,noise:0.592884222811},
{day:'Wed',time:20,noise:0.348847422795},
{day:'Wed',time:21,noise:0.658107274842},
{day:'Wed',time:22,noise:0.44958205285},
{day:'Wed',time:23,noise:0.595795268013},
{day:'Thur',time:0,noise:0.0329669242561},
{day:'Thur',time:1,noise:0.482352393808},
{day:'Thur',time:2,noise:0.0518542982942},
{day:'Thur',time:3,noise:0.0873166404156},
{day:'Thur',time:4,noise:0.134963649723},
{day:'Thur',time:5,noise:0.770802644428},
{day:'Thur',time:6,noise:0.501162247767},
{day:'Thur',time:7,noise:0.387627105252},
{day:'Thur',time:8,noise:0.269085085896},
{day:'Thur',time:9,noise:0.450111845789},
{day:'Thur',time:10,noise:0.847415487669},
{day:'Thur',time:11,noise:0.653702250472},
{day:'Thur',time:12,noise:0.372197939915},
{day:'Thur',time:13,noise:0.838536626932},
{day:'Thur',time:14,noise:0.954251061643},
{day:'Thur',time:15,noise:0.760790466455},
{day:'Thur',time:16,noise:0.311819156366},
{day:'Thur',time:17,noise:0.471969414899},
{day:'Thur',time:18,noise:0.231339265045},
{day:'Thur',time:19,noise:0.598510057802},
{day:'Thur',time:20,noise:0.873608507572},
{day:'Thur',time:21,noise:0.213659031791},
{day:'Thur',time:22,noise:0.378922055123},
{day:'Thur',time:23,noise:0.394726892094},
{day:'Fri',time:0,noise:0.109320010061},
{day:'Fri',time:1,noise:0.98759510861},
{day:'Fri',time:2,noise:0.151256528123},
{day:'Fri',time:3,noise:0.791890265662},
{day:'Fri',time:4,noise:0.575535821505},
{day:'Fri',time:5,noise:0.57077248722},
{day:'Fri',time:6,noise:0.209339333802},
{day:'Fri',time:7,noise:0.0561988475764},
{day:'Fri',time:8,noise:0.790683727075},
{day:'Fri',time:9,noise:0.715224983428},
{day:'Fri',time:10,noise:0.830033502705},
{day:'Fri',time:11,noise:0.683152794193},
{day:'Fri',time:12,noise:0.911771596552},
{day:'Fri',time:13,noise:0.489068983079},
{day:'Fri',time:14,noise:0.691785933989},
{day:'Fri',time:15,noise:0.157534842063},
{day:'Fri',time:16,noise:0.30591994478},
{day:'Fri',time:17,noise:0.0128231053424},
{day:'Fri',time:18,noise:0.823927581935},
{day:'Fri',time:19,noise:0.924815542913},
{day:'Fri',time:20,noise:0.708299306575},
{day:'Fri',time:21,noise:0.351542371661},
{day:'Fri',time:22,noise:0.9124562704},
{day:'Fri',time:23,noise:0.748069533472},
{day:'Sat',time:0,noise:0.909899987245},
{day:'Sat',time:1,noise:0.585528330645},
{day:'Sat',time:2,noise:0.263655404156},
{day:'Sat',time:3,noise:0.346246218548},
{day:'Sat',time:4,noise:0.6554455026},
{day:'Sat',time:5,noise:0.522205584441},
{day:'Sat',time:6,noise:0.27654375402},
{day:'Sat',time:7,noise:0.968486215206},
{day:'Sat',time:8,noise:0.0816134606979},
{day:'Sat',time:9,noise:0.579096740056},
{day:'Sat',time:10,noise:0.514311141365},
{day:'Sat',time:11,noise:0.177724968988},
{day:'Sat',time:12,noise:0.113361292929},
{day:'Sat',time:13,noise:0.907635560266},
{day:'Sat',time:14,noise:0.792384860685},
{day:'Sat',time:15,noise:0.58992464778},
{day:'Sat',time:16,noise:0.811554841176},
{day:'Sat',time:17,noise:0.780459204764},
{day:'Sat',time:18,noise:0.494985660955},
{day:'Sat',time:19,noise:0.689425773276},
{day:'Sat',time:20,noise:0.149988800895},
{day:'Sat',time:21,noise:0.303818899943},
{day:'Sat',time:22,noise:0.978565232308},
{day:'Sat',time:23,noise:0.449696180346},
{day:'Sun',time:0,noise:0.705144602093},
{day:'Sun',time:1,noise:0.463682235907},
{day:'Sun',time:2,noise:0.689131330003},
{day:'Sun',time:3,noise:0.165956384854},
{day:'Sun',time:4,noise:0.358344909584},
{day:'Sun',time:5,noise:0.404394120231},
{day:'Sun',time:6,noise:0.419587647496},
{day:'Sun',time:7,noise:0.437340573345},
{day:'Sun',time:8,noise:0.572475635957},
{day:'Sun',time:9,noise:0.571006225753},
{day:'Sun',time:10,noise:0.601798412041},
{day:'Sun',time:11,noise:0.281038118203},
{day:'Sun',time:12,noise:0.15739918674},
{day:'Sun',time:13,noise:0.502506323951},
{day:'Sun',time:14,noise:0.256909184338},
{day:'Sun',time:15,noise:0.952353444389},
{day:'Sun',time:16,noise:0.975744306882},
{day:'Sun',time:17,noise:0.515706053001},
{day:'Sun',time:18,noise:0.188522034821},
{day:'Sun',time:19,noise:0.44976724107},
{day:'Sun',time:20,noise:0.0812298092502},
{day:'Sun',time:21,noise:0.428682153183},
{day:'Sun',time:22,noise:0.653944484977},
{day:'Sun',time:23,noise:0.891995884755}
];

function y_pos(day) {
var pos;
switch (day){
case 'Mon':
  pos = 1;
  break;
case 'Tue':
  pos = 2;
  break;
case 'Wed':
  pos = 3;
  break;
case 'Thur':
  pos = 4;
  break;
case 'Fri':
  pos = 5;
  break;
case 'Sat':
  pos = 6;
  break;
case 'Sun':
  pos = 7;
  break;
default:
  console.log("Invalid input.");
}
return pos;
}

var drawHourlyData = function (hourlyData) {

var w = 1000,
    h = 500,
    top_pad = 20,
    left_pad = 100;

var x = d3.scale.linear()
    .domain([-1, 23])
    .range([left_pad, w - left_pad]);

var y = d3.scale.linear()
        .domain([0, 7])
        .range([h - top_pad, top_pad]);


var svg = d3.select(".bubble_chart")
    .append("svg:svg")
    .attr("width", w + left_pad)
    .attr("height", h + top_pad);

svg.selectAll("circle")
    .data(hourlyData)
    .enter().append("circle")
    .attr("class", "dot")
    .attr("cx", function (d) {
    return x(d.time);
})
//Math.random for a crude jitter hack
.attr("cy", function (d) {
    return y(y_pos(d.day) + "");
})
.attr("r", function (d) {
  return d.noise * 10;
});

var xAxis = d3.svg.axis().scale(x).orient("bottom")
    .tickFormat(function(d) {
            var f = ["12AM", "1AM", "2AM", "3AM", "4AM", "5AM", "6AM", "7AM", "8AM", "9AM", "10AM", "11AM", "12PM", "1PM", "2PM", "3PM", "4PM", "5PM", "6PM", "7PM", "8PM", "9PM", "10PM", "11PM"];
    return (f[d]);
}),
    yAxis = d3.svg.axis().scale(y).orient("left");

svg.append("g")
    .attr("class", "axis")
    .attr("transform", "translate(0, " + (h - top_pad) + ")")
    .call(xAxis);

svg.append("g")
    .attr("class", "axis")
    .attr("transform", "translate(" + (left_pad) + ", 0)")
    .call(yAxis);

    $(".bubble_chart svg").css({top: 50, left: 200, position:'absolute'});

}



//
//
//
// function drawHourlyData(hourlyData) {
//   var margin = 80;
//   var width = 1000;
//   var height = 500;
//   // var xTicks = ['12am', '1am', '2am', '3am', '4am', '5am', '6am', '7am', '8am', '9am', '10am', '11am', '12pm', '1pm', '2pm', '3pm', '4pm', '5pm', '6pm', '7pm', '8pm', '9pm', '10pm', '11pm'];
//
//   var arrOfTimeValues = [];
//   var timeValues = function(hourlyData) {
//     for (i = 0; i < hourlyData.length; i++) {
//       var time = hourlyData[i].time;
//       arrOfTimeValues.push(time);
//     }
//     return arrOfTimeValues;
//   };
//
//   var minXBubbleChart = Math.min.apply( Math, timeValues(hourlyData));
//   var maxXBubbleChart = Math.max.apply( Math, timeValues(hourlyData));
//
//   d3.select(".bubble_chart")
//       .append("svg")
//       .attr("width", width)
//       .attr("height", height)
//     .selectAll("circle")
//     .data(hourlyData)
//     .enter()
//     .append("circle");
//
//
//   $(".bubble_chart svg").css({top: 50, left: 200, position:'absolute'});
//
//     d3.select(".bubble_chart svg")
//     .append("text")
//       .attr("class","bubble-chart-title")
//     .text("Average Hourly Noise Measurements Per Day")
//       .attr("x", width / 3 - margin)
//       .attr("y", margin/ 1.5)
//       .style("fill", "white")
//       .style("font-size", "24px");
//
//   // var x_extent = [minXBubbleChart, maxXBubbleChart];
//   var x_extent = [minX, maxX];
//
//   // var x_scale = d3.time.scale()
//   //   .range([margin,width-margin])
//   //   .domain([d3.time.format("%Y-%m-%d %H:%M:%S" ).parse("2016-04-26 06:50:37"), d3.time.format("%Y-%m-%d %H:%M:%S" ).parse("2016-05-07 20:07:06")]);
//
//     // debugger;
//
//   // var x = d3.scale.ordinal()
//   //   .range([margin,width-margin])
//   //   .domain([0, 1])
//   //   .rangePoints([0, width], 1);
//
//   // var x_scale = d3.scale.linear()
//   //   .range([margin,width-margin])
//   //   .domain(x_extent);
//
//   var y_extent = [0,7];
//
//   var y_scale = d3.scale.linear()
//     .range([height-margin, margin])
//     .domain(y_extent);
//
//   var w = 960,
// 	    h = 600,
// 	    top_pad = 20,
// 	    left_pad = 20;
//
// 	var x = d3.scale.linear()
// 	    .domain([-1, 23])
// 	    .range([left_pad, w - left_pad]);
//
//   var x_scale = d3.svg.axis().scale(x).orient("bottom")
//     .ticks(24)
//     .tickFormat(function(d) {
//             var f = ["12AM", "1AM", "2AM", "3AM", "4AM", "5AM", "6AM", "7AM", "8AM", "9AM", "10AM", "11AM", "12PM", "1PM", "2PM", "3PM", "4PM", "5PM", "6PM", "7PM", "8PM", "9PM", "10PM", "11PM"];
//     return (f[d]);
//   });
//
//   var y = d3.scale.linear()
//         .domain([0, 500])
//         .range([h - top_pad, top_pad]);
//
//   var y_scale = d3.svg.axis().scale(y).orient("left");
//
//   d3.selectAll(".bubble_chart circle")
//     .attr("cx", function(d){ return d.time * 40 + 30})
//     .attr("cy", function(d){return y_scale(y_pos(d.day));})
//     .attr("r", function(d){return d.noise * 10;})
//     .style("fill", function(d) {
//        var returnColor;
//        if (y_pos(d.day) === 0) { returnColor = "green";
//      } else if (y_pos(d.day) === 1) {
//          returnColor = "purple";
//        } else if (y_pos(d.day) === 2) {
//          returnColor = "red";
//        } else {
//          returnColor = "hotpink";
//        }
//        return returnColor;
//     });
//
//
// 		// var x_axis = d3.svg.axis()
//     //   .scale(x_scale)
//     //   // .ticks(d3.time.hour, 1)
//     //   // .tickValues([new Date(), new Date()])
//     //   // .tickPadding(1)
//     //   .tickFormat(d3.time.format("%I %p"));
//     //
//     //   var xAxis = d3.svg.axis().scale(x_scale).orient("bottom")
//     //               .tickFormat(function(d) {
//     //                   var f = ["12AM", "1AM", "2AM", "3AM", "4AM", "5AM", "6AM", "7AM", "8AM", "9AM", "10AM", "11AM", "12PM", "1PM", "2PM", "3PM", "4PM", "5PM", "6PM", "7PM", "8PM", "9PM", "10PM", "11PM"];
//     //               return (f[d]);
//     //           })
//     //           .tickValues([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]);
//     //
//     // var x = d3.scale.ordinal()
//     //     .domain([0, 1])
//     //     .rangePoints([0, width], 1);
//
//
//   // var x_axis = d3.svg.axis()
// 	// 		.scale(x_scale)
// 	// 		.ticks(24)
// 	// 		.tickValues(xTicks);
//
//   d3.select(".bubble_chart svg")
//     .append("g")
//       .attr("class", "x axis")
//       .attr("transform", "translate(0," + (height-margin) + ")")
//     .call(x_scale);
//
//   var y_axis = d3.svg.axis().scale(y_scale).orient("left");
//
//   d3.select(".bubble_chart svg")
//     .append("g")
//       .attr("class", "y axis")
//       .attr("transform", "translate(" + margin + ", 0 )")
//     .call(y_axis);
//
//   d3.select(".bubble_chart .x.axis")
//     .append("text")
//       .attr("class", "axis_label")
//     .text("Time")
//       .attr("x", (width / 2) - margin)
//       .attr("y", margin / 1.5)
//       .style("fill", "white")
//       .style("font-size", "16px");
//
//   // d3.select(".bubble_chart .y.axis")
//   //   .append("text")
//   //     .attr("class", "axis_label")
//   //   .text("Day")
//   //     .attr("transform", "rotate (-90, -43, 0) translate(-280)")
//   //     .style("fill", "white")
//   //     .style("font-size", "16px");
// }
